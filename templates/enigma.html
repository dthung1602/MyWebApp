{% extends "base.html" %}

{% block body %}

<div class="jumbotron">
    <h1 style="padding-bottom: 10px; padding-left: 50px">Enigma Simulator</h1>
    <div class="badge" style="margin-left:50px;background-color:green">Version 0.9</div>
</div>

<div class="container" align="center">
    <!------ Error ------->
    {% if error %}
    <div class="alert alert-danger">
        <img src="/static/image/error.png" height="55px">
        <strong style="font-size:150%;margin-left: 20px">ERROR!</strong>
        <span style="font-size:150%;margin-left: 30px">{{error}}</span>
    </div>
    <br><br>
    {% endif %}

    <form method="post">
        <table>
            <!--------------  reflect wheel  ------------------>
            <tr>
                <td style="text-align: right;padding-right: 20px"><strong>Umkehrwalze</strong></td>
                <td>
                    <select name="rw" style="width:115px;margin:5px;text-align: center">
                        <option value="B" {% if rw == "B" %} selected {% endif %}>--- B ---</option>
                        <option value="C" {% if rw == "C" %} selected {% endif %}>--- C ---</option>
                    </select>
                </td>
            </tr>

            <!------------- wheels ---------------->
            <tr>
                <td style="text-align: right;padding-right: 20px"><strong>Grundstellung</strong></td>
                <td>
                    {% for i in [1, 2, 3, 4] %}
                    <select name="w{{i}}" style="width:50px;margin:5px" onchange="checkWheels()">
                        {% for num in ["I", "II", "III", "IV", "V", "VI", "VII", "VIII"] %}
                        <option value="{{num}}" {% if w[i]== num %} selected {% endif %}>{{num}}</option>
                        {% endfor %}
                    </select>
                    {% endfor %}
                </td>
            </tr>

            <!-------- positions ---------------->
            <tr>
                <td style="text-align: right;padding-right: 20px"><strong>Ringstellung</strong></td>
                <td>
                    {% for i in [1, 2, 3, 4] %}
                    <select name="p{{i}}" style="width:50px;margin:5px">
                        {% for c in "ABCDEFGHIJKLMNOPQRSTUVWXYZ" %}
                        <option value="{{c}}" {% if p[i] == c %} selected {% endif %}>{{c}}</option>
                        {% endfor %}
                    </select>
                    {% endfor %}
                </td>
            </tr>
        </table>


        <!---------------------plug board---------------------------->
        <div style="border: 1px black solid;margin-top: 25px; width: 650px">
            <table style="margin: 15px;">
                <tr>
                    <th colspan="13" style="text-align: center">Steckerbrett</th>
                </tr>
                <tr>
                    {% for c in "ABCDEFGHIJKLM" %}
                    <td style="text-align: center" width="50px" height="75px">
                        <div><strong>{{c}}</strong></div>
                        <input name="{{c}}" size="1" maxlength="1" value="{{pb.get(c, '')}}" type="text"
                               style="text-align: center" onkeydown="saveOldValue(this)" onkeyup="updateValue(this)">
                    </td>
                    {% endfor %}
                </tr>
                <tr>
                    {% for c in "NOPQRSTUVWXYZ" %}
                    <td style="text-align: center" width="50px" height="75px">
                        <div><strong>{{c}}</strong></div>
                        <input name="{{c}}" size="1" maxlength="1" value="{{pb.get(c, '')}}" type="text"
                               style="text-align: center" onkeydown="saveOldValue(this)" onkeyup="updateValue(this)">
                    </td>
                    {% endfor %}
                </tr>
            </table>
        </div>


        <!---------------------------------Enter text ----------------------------->
        <div style="text-align: center; margin-top: 50px">
            <label>Text/Geheimtext</label>
            <br><br>
            <textarea name="text" rows=10 cols=78>{{text}}</textarea>
        </div>

        <!---------------------------- reset -------------------------------->
        <div style="text-align: center; margin-top: 50px; margin-bottom: 30px">
            <label style="padding-right: 25px">Nach dem Verschlüsseln/Entschlüsseln:</label>
            <input type="radio" name="reset" value="true" {% if rs %} checked {% endif %}>
            <span style="padding-left: 5px; padding-right: 25px">Zurücksetzen</span>
            <input type="radio" name="reset" value="false" {% if not rs %} checked {% endif %}>
            <span style="padding-left: 5px; padding-right: 25px">Fortsetzen</span>
        </div>

        <input type="submit" value="OK">
    </form>

    <script src="{{__host__}}/static/js/enigma.js"></script>
</div>
{% endblock %}
